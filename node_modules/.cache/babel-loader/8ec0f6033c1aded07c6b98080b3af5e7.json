{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\(S)samsungFLEX5\\\\Desktop\\\\hw4_login\\\\src\\\\pages\\\\game\\\\components\\\\Drawboard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport { fabric } from 'fabric';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Drawboard = () => {\n  _s();\n\n  const canvasRef = useRef(null);\n  const fabricCanvasRef = useRef(null);\n  const drawingToolRef = useRef(null);\n  useEffect(() => {\n    const canvas = new fabric.Canvas(canvasRef.current, {\n      width: 500,\n      height: 500,\n      backgroundColor: '#ffffff' // Set your desired canvas background color\n\n    });\n    fabricCanvasRef.current = canvas;\n    return () => {\n      // Clean up the Fabric.js canvas instance on unmount\n      canvas.dispose();\n    };\n  }, []);\n\n  const onMouseDown = event => {\n    if (drawingToolRef.current && drawingToolRef.current.onMouseDown) {\n      drawingToolRef.current.onMouseDown(event.e);\n    }\n  };\n\n  const onMouseMove = event => {\n    if (drawingToolRef.current && drawingToolRef.current.onMouseMove) {\n      drawingToolRef.current.onMouseMove(event.e);\n    }\n  };\n\n  const onMouseUp = event => {\n    if (drawingToolRef.current && drawingToolRef.current.onMouseUp) {\n      drawingToolRef.current.onMouseUp(event.e);\n    }\n  };\n\n  useEffect(() => {\n    const canvas = fabricCanvasRef.current; // Event handlers for mouse events\n\n    canvas.on('mouse:down', onMouseDown);\n    canvas.on('mouse:move', onMouseMove);\n    canvas.on('mouse:up', onMouseUp);\n    return () => {\n      // Remove the event listeners on unmount\n      canvas.off('mouse:down', onMouseDown);\n      canvas.off('mouse:move', onMouseMove);\n      canvas.off('mouse:up', onMouseUp);\n    };\n  }, []);\n\n  const setDrawingTool = tool => {\n    drawingToolRef.current = tool;\n  };\n\n  const enableFreeDrawing = () => {\n    const canvas = fabricCanvasRef.current;\n    canvas.isDrawingMode = true;\n    canvas.freeDrawingBrush.width = 2; // Set the brush width as needed\n\n    canvas.freeDrawingBrush.color = '#000000'; // Set the brush color as needed\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        width: '500px',\n        height: '500px',\n        border: '1px solid #ccc'\n        /* Add any other desired styles for the canvas here */\n\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: enableFreeDrawing,\n      children: \"Enable Drawing\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Drawboard, \"ejrIuKZ0BpNbOGe3W71uvk/9vhM=\");\n\n_c = Drawboard;\nexport default Drawboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Drawboard\");","map":{"version":3,"names":["React","useEffect","useRef","fabric","Drawboard","canvasRef","fabricCanvasRef","drawingToolRef","canvas","Canvas","current","width","height","backgroundColor","dispose","onMouseDown","event","e","onMouseMove","onMouseUp","on","off","setDrawingTool","tool","enableFreeDrawing","isDrawingMode","freeDrawingBrush","color","border"],"sources":["C:/Users/(S)samsungFLEX5/Desktop/hw4_login/src/pages/game/components/Drawboard.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nconst Drawboard = () => {\r\n  const canvasRef = useRef(null);\r\n  const fabricCanvasRef = useRef(null);\r\n  const drawingToolRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = new fabric.Canvas(canvasRef.current, {\r\n      width: 500,\r\n      height: 500,\r\n      backgroundColor: '#ffffff', // Set your desired canvas background color\r\n    });\r\n\r\n    fabricCanvasRef.current = canvas;\r\n\r\n    return () => {\r\n      // Clean up the Fabric.js canvas instance on unmount\r\n      canvas.dispose();\r\n    };\r\n  }, []);\r\n\r\n  const onMouseDown = (event) => {\r\n    if (drawingToolRef.current && drawingToolRef.current.onMouseDown) {\r\n      drawingToolRef.current.onMouseDown(event.e);\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (event) => {\r\n    if (drawingToolRef.current && drawingToolRef.current.onMouseMove) {\r\n      drawingToolRef.current.onMouseMove(event.e);\r\n    }\r\n  };\r\n\r\n  const onMouseUp = (event) => {\r\n    if (drawingToolRef.current && drawingToolRef.current.onMouseUp) {\r\n      drawingToolRef.current.onMouseUp(event.e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = fabricCanvasRef.current;\r\n\r\n    // Event handlers for mouse events\r\n    canvas.on('mouse:down', onMouseDown);\r\n    canvas.on('mouse:move', onMouseMove);\r\n    canvas.on('mouse:up', onMouseUp);\r\n\r\n    return () => {\r\n      // Remove the event listeners on unmount\r\n      canvas.off('mouse:down', onMouseDown);\r\n      canvas.off('mouse:move', onMouseMove);\r\n      canvas.off('mouse:up', onMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  const setDrawingTool = (tool) => {\r\n    drawingToolRef.current = tool;\r\n  };\r\n\r\n  const enableFreeDrawing = () => {\r\n    const canvas = fabricCanvasRef.current;\r\n\r\n    canvas.isDrawingMode = true;\r\n    canvas.freeDrawingBrush.width = 2; // Set the brush width as needed\r\n    canvas.freeDrawingBrush.color = '#000000'; // Set the brush color as needed\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <canvas\r\n        ref={canvasRef}\r\n        style={{\r\n          width: '500px',\r\n          height: '500px',\r\n          border: '1px solid #ccc',\r\n          /* Add any other desired styles for the canvas here */\r\n        }}\r\n      />\r\n      <button onClick={enableFreeDrawing}>Enable Drawing</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Drawboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}