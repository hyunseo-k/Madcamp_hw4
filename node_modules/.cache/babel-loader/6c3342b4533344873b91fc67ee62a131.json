{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\(S)samsungFLEX5\\\\Desktop\\\\hw4_login\\\\src\\\\pages\\\\game\\\\components\\\\Drawboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { fabric } from 'fabric';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardHeader, MDBCardBody, MDBIcon, MDBTextArea, MDBBtn } from \"mdb-react-ui-kit\";\nimport \"./Drawboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst colorPalette = ['#000000', '#FF0000', '#00FF00', '#183EFA', '#FFFF00', '#E94097', '#79EDFF', '#FFFFFF'];\nconst Drawboard = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const fabricCanvasRef = useRef(null);\n  const drawingToolRef = useRef(null);\n  const [isErasing, setIsErasing] = useState(false);\n  const [currentColor, setCurrentColor] = useState(colorPalette[0]);\n  const [brushWidth, setBrushWidth] = useState(2); // Default brush width\n\n  const [seconds, setSeconds] = useState(60);\n  // 가상의 플레이어 정보 데이터 (예시로 만들어짐)\n\n  useEffect(() => {\n    // 컴포넌트가 마운트될 때 타이머를 시작합니다.\n    const timer = setInterval(() => {\n      setSeconds(prevSeconds => {\n        // 이전 초(second) 값을 감소시킵니다.\n        if (prevSeconds > 0) {\n          return prevSeconds - 1;\n        } else {\n          // 초(second)가 0이 되면 타이머를 멈춥니다.\n          clearInterval(timer);\n          return prevSeconds;\n        }\n      });\n    }, 1000);\n\n    // 컴포넌트가 언마운트되면 타이머를 정리합니다.\n    return () => clearInterval(timer);\n  }, []);\n  useEffect(() => {\n    const canvas = new fabric.Canvas(canvasRef.current, {\n      width: 770,\n      height: 405,\n      backgroundColor: '#ffffff' // Set your desired canvas background color\n    });\n\n    fabricCanvasRef.current = canvas;\n    return () => {\n      // Clean up the Fabric.js canvas instance on unmount\n      canvas.dispose();\n    };\n  }, []);\n  useEffect(() => {\n    // Apply the new color to the canvas whenever the currentColor changes\n    const canvas = fabricCanvasRef.current;\n    canvas.freeDrawingBrush.color = currentColor;\n    canvas.freeDrawingBrush.width = brushWidth;\n  }, [currentColor, brushWidth]);\n  const onMouseDown = event => {\n    if (drawingToolRef.current && drawingToolRef.current.onMouseDown) {\n      drawingToolRef.current.onMouseDown(event);\n    }\n  };\n  const onMouseMove = event => {\n    if (drawingToolRef.current && drawingToolRef.current.onMouseMove) {\n      drawingToolRef.current.onMouseMove(event);\n    }\n  };\n  const onMouseUp = event => {\n    if (drawingToolRef.current && drawingToolRef.current.onMouseUp) {\n      drawingToolRef.current.onMouseUp(event);\n    }\n  };\n  useEffect(() => {\n    const canvas = fabricCanvasRef.current;\n\n    // Event handlers for mouse events\n    canvas.on('mouse:down', onMouseDown);\n    canvas.on('mouse:move', onMouseMove);\n    canvas.on('mouse:up', onMouseUp);\n    return () => {\n      // Remove the event listeners on unmount\n      canvas.off('mouse:down', onMouseDown);\n      canvas.off('mouse:move', onMouseMove);\n      canvas.off('mouse:up', onMouseUp);\n    };\n  }, []);\n  const setDrawingTool = tool => {\n    drawingToolRef.current = tool;\n  };\n  const enableFreeDrawing = () => {\n    const canvas = fabricCanvasRef.current;\n    canvas.isDrawingMode = true;\n    canvas.freeDrawingBrush.width = brushWidth;\n    if (isErasing) {\n      canvas.freeDrawingBrush.color = '#ffffff'; // Set the brush color to white for erasing effect\n      canvas.freeDrawingBrush.backgroundColor = '#ffffff'; // Set the background color to white for erasing effect\n      canvas.isDrawingMode = true; // Enable drawing mode for erasing\n    } else {\n      canvas.freeDrawingBrush.color = currentColor; // Set the brush color to the selected color for drawing\n      canvas.freeDrawingBrush.backgroundColor = 'transparent'; // Set the background color to transparent for drawing\n      canvas.isDrawingMode = true; // Enable drawing mode\n    }\n  };\n\n  const handleColorChange = color => {\n    setCurrentColor(color);\n    setIsErasing(false); // Disable eraser when a color is selected\n  };\n\n  const toggleEraser = () => {\n    setIsErasing(prev => !prev);\n  };\n  const handleBrushWidthChange = event => {\n    const width = parseInt(event.target.value);\n    setBrushWidth(width);\n  };\n  const clearCanvas = () => {\n    const canvas = fabricCanvasRef.current;\n    const objects = canvas.getObjects();\n\n    // Remove all foreground objects, leaving the background color intact\n    objects.forEach(object => {\n      if (object !== canvas.backgroundImage) {\n        canvas.remove(object);\n      }\n    });\n    canvas.renderAll(); // Re-render the canvas after clearing\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"text-center d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(MDBCard, {\n        id: \"chat1\",\n        className: \"ms-auto\",\n        style: {\n          borderRadius: \"15px\",\n          width: \"100%\",\n          fontSize: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MDBCardHeader, {\n          className: \"d-flex justify-content-between align-items-center p-3 bg-info text-white border-bottom-0\",\n          style: {\n            borderTopLeftRadius: \"15px\",\n            borderTopRightRadius: \"15px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontFamily: \"\",\n              fontWeight: \"bold\",\n              backgroundImage: \"url('/img/clock.gif')\",\n              backgroundSize: \"cover\",\n              display: \"flex\",\n              // display를 flex로 지정\n              alignItems: \"center\",\n              // 위-아래 기준 가운데 정렬\n              justifyContent: \"center\",\n              // 좌-우 기준 가운데 정렬\n              color: \"black\",\n              fontSize: \"30px\",\n              width: \"70px\",\n              // 가로 크기를 지정하세요.\n              height: \"70px\" // 세로 크기를 지정하세요.\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginTop: \"7px\"\n              },\n              children: seconds\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"form\",\n            className: \"mb-0 fw-bold\",\n            style: {\n              fontSize: '23px'\n            },\n            children: \"\\uD604\\uC11C \\uB2D8\\uC774 \\uADF8\\uB9BC\\uC744 \\uADF8\\uB9AC\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(MDBCardBody, {\n          className: \"canvas-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"badge rounded-pill badge-primary mb-2\",\n            style: {\n              width: '75px',\n              fontSize: '20px'\n            },\n            children: \"\\uC81C\\uC2DC\\uC5B4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            style: {\n              width: '100%',\n              height: '400px',\n              border: '1px solid #ccc'\n              /* Add any other desired styles for the canvas here */\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"btn-group d-flex mt-2\",\n            role: \"group\",\n            children: [/*#__PURE__*/_jsxDEV(MDBBtn, {\n              onClick: enableFreeDrawing,\n              type: \"button\",\n              className: \"btn btn-info\",\n              style: {\n                fontSize: '20px'\n              },\n              children: \" \\uADF8\\uB9AC\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n              onClick: clearCanvas,\n              type: \"button\",\n              className: \"btn btn-info\",\n              style: {\n                fontSize: '20px'\n              },\n              children: \"\\uC804\\uCCB4 \\uC9C0\\uC6B0\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text-center mt-2\",\n            children: colorPalette.map(color => /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                backgroundColor: color,\n                width: '30px',\n                height: '30px',\n                margin: '5px'\n              },\n              onClick: () => handleColorChange(color)\n            }, color, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"badge rounded-pill badge-info\",\n            style: {\n              width: '80px',\n              fontSize: '20px'\n            },\n            children: \"\\uC120 \\uAD75\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"1\",\n            max: \"10\",\n            value: brushWidth,\n            onChange: handleBrushWidthChange,\n            style: {\n              width: '100px',\n              margin: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: brushWidth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(Drawboard, \"Xgulk09Gp2avN/WlUam6NAxupNM=\");\n_c = Drawboard;\nexport default Drawboard;\nvar _c;\n$RefreshReg$(_c, \"Drawboard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","fabric","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardHeader","MDBCardBody","MDBIcon","MDBTextArea","MDBBtn","jsxDEV","_jsxDEV","colorPalette","Drawboard","_s","canvasRef","fabricCanvasRef","drawingToolRef","isErasing","setIsErasing","currentColor","setCurrentColor","brushWidth","setBrushWidth","seconds","setSeconds","timer","setInterval","prevSeconds","clearInterval","canvas","Canvas","current","width","height","backgroundColor","dispose","freeDrawingBrush","color","onMouseDown","event","onMouseMove","onMouseUp","on","off","setDrawingTool","tool","enableFreeDrawing","isDrawingMode","handleColorChange","toggleEraser","prev","handleBrushWidthChange","parseInt","target","value","clearCanvas","objects","getObjects","forEach","object","backgroundImage","remove","renderAll","children","class","id","className","style","borderRadius","fontSize","borderTopLeftRadius","borderTopRightRadius","fontFamily","fontWeight","backgroundSize","display","alignItems","justifyContent","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","ref","border","role","onClick","type","map","margin","min","max","onChange","_c","$RefreshReg$"],"sources":["C:/Users/(S)samsungFLEX5/Desktop/hw4_login/src/pages/game/components/Drawboard.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { fabric } from 'fabric';\r\nimport {\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCol,\r\n  MDBCard,\r\n  MDBCardHeader,\r\n  MDBCardBody,\r\n  MDBIcon,\r\n  MDBTextArea,\r\n  MDBBtn\r\n} from \"mdb-react-ui-kit\";\r\n\r\nimport \"./Drawboard.css\"\r\n\r\nconst colorPalette = ['#000000', '#FF0000', '#00FF00', '#183EFA', '#FFFF00', '#E94097', '#79EDFF', '#FFFFFF'];\r\n\r\nconst Drawboard = () => {\r\n  const canvasRef = useRef(null);\r\n  const fabricCanvasRef = useRef(null);\r\n  const drawingToolRef = useRef(null);\r\n  const [isErasing, setIsErasing] = useState(false);\r\n  const [currentColor, setCurrentColor] = useState(colorPalette[0]);\r\n  const [brushWidth, setBrushWidth] = useState(2); // Default brush width\r\n\r\n  const [seconds, setSeconds] = useState(60);\r\n  // 가상의 플레이어 정보 데이터 (예시로 만들어짐)\r\n\r\n  useEffect(() => {\r\n    // 컴포넌트가 마운트될 때 타이머를 시작합니다.\r\n    const timer = setInterval(() => {\r\n      setSeconds((prevSeconds) => {\r\n        // 이전 초(second) 값을 감소시킵니다.\r\n        if (prevSeconds > 0) {\r\n          return prevSeconds - 1;\r\n        } else {\r\n          // 초(second)가 0이 되면 타이머를 멈춥니다.\r\n          clearInterval(timer);\r\n          return prevSeconds;\r\n        }\r\n      });\r\n    }, 1000);\r\n\r\n    // 컴포넌트가 언마운트되면 타이머를 정리합니다.\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n  \r\n\r\n  useEffect(() => {\r\n    const canvas = new fabric.Canvas(canvasRef.current, {\r\n      width: 770,\r\n      height: 405,\r\n      backgroundColor: '#ffffff', // Set your desired canvas background color\r\n    });\r\n\r\n    fabricCanvasRef.current = canvas;\r\n\r\n    return () => {\r\n      // Clean up the Fabric.js canvas instance on unmount\r\n      canvas.dispose();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Apply the new color to the canvas whenever the currentColor changes\r\n    const canvas = fabricCanvasRef.current;\r\n    canvas.freeDrawingBrush.color = currentColor;\r\n    canvas.freeDrawingBrush.width = brushWidth;\r\n  }, [currentColor, brushWidth]);\r\n\r\n  const onMouseDown = (event) => {\r\n    if (drawingToolRef.current && drawingToolRef.current.onMouseDown) {\r\n      drawingToolRef.current.onMouseDown(event);\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (event) => {\r\n    if (drawingToolRef.current && drawingToolRef.current.onMouseMove) {\r\n      drawingToolRef.current.onMouseMove(event);\r\n    }\r\n  };\r\n\r\n  const onMouseUp = (event) => {\r\n    if (drawingToolRef.current && drawingToolRef.current.onMouseUp) {\r\n      drawingToolRef.current.onMouseUp(event);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const canvas = fabricCanvasRef.current;\r\n\r\n    // Event handlers for mouse events\r\n    canvas.on('mouse:down', onMouseDown);\r\n    canvas.on('mouse:move', onMouseMove);\r\n    canvas.on('mouse:up', onMouseUp);\r\n\r\n    return () => {\r\n      // Remove the event listeners on unmount\r\n      canvas.off('mouse:down', onMouseDown);\r\n      canvas.off('mouse:move', onMouseMove);\r\n      canvas.off('mouse:up', onMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  const setDrawingTool = (tool) => {\r\n    drawingToolRef.current = tool;\r\n  };\r\n\r\n  const enableFreeDrawing = () => {\r\n    const canvas = fabricCanvasRef.current;\r\n\r\n    canvas.isDrawingMode = true;\r\n    canvas.freeDrawingBrush.width = brushWidth;\r\n\r\n    if (isErasing) {\r\n      canvas.freeDrawingBrush.color = '#ffffff'; // Set the brush color to white for erasing effect\r\n      canvas.freeDrawingBrush.backgroundColor = '#ffffff'; // Set the background color to white for erasing effect\r\n      canvas.isDrawingMode = true; // Enable drawing mode for erasing\r\n    } else {\r\n      canvas.freeDrawingBrush.color = currentColor; // Set the brush color to the selected color for drawing\r\n      canvas.freeDrawingBrush.backgroundColor = 'transparent'; // Set the background color to transparent for drawing\r\n      canvas.isDrawingMode = true; // Enable drawing mode\r\n    }\r\n  };\r\n\r\n  const handleColorChange = (color) => {\r\n    setCurrentColor(color);\r\n    setIsErasing(false); // Disable eraser when a color is selected\r\n  };\r\n\r\n  const toggleEraser = () => {\r\n    setIsErasing((prev) => !prev);\r\n  };\r\n\r\n  const handleBrushWidthChange = (event) => {\r\n    const width = parseInt(event.target.value);\r\n    setBrushWidth(width);\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = fabricCanvasRef.current;\r\n    const objects = canvas.getObjects();\r\n  \r\n    // Remove all foreground objects, leaving the background color intact\r\n    objects.forEach((object) => {\r\n      if (object !== canvas.backgroundImage) {\r\n        canvas.remove(object);\r\n      }\r\n    });\r\n\r\n    canvas.renderAll(); // Re-render the canvas after clearing\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <div class=\"text-center d-flex justify-content-center\">\r\n  <MDBCard id=\"chat1\" className=\"ms-auto\" style={{ borderRadius: \"15px\", width:\"100%\", fontSize: '20px' }}>\r\n    <MDBCardHeader\r\n      className=\"d-flex justify-content-between align-items-center p-3 bg-info text-white border-bottom-0\"\r\n      style={{\r\n        borderTopLeftRadius: \"15px\",\r\n        borderTopRightRadius: \"15px\",\r\n      }}\r\n    >\r\n      <div \r\n        style={{\r\n          fontFamily: \"\",\r\n          fontWeight: \"bold\",\r\n          backgroundImage: \"url('/img/clock.gif')\",\r\n          backgroundSize: \"cover\",\r\n          display: \"flex\", // display를 flex로 지정\r\n          alignItems: \"center\", // 위-아래 기준 가운데 정렬\r\n          justifyContent: \"center\", // 좌-우 기준 가운데 정렬\r\n          color: \"black\",\r\n          fontSize: \"30px\",\r\n          width: \"70px\", // 가로 크기를 지정하세요.\r\n          height: \"70px\", // 세로 크기를 지정하세요.\r\n        }}\r\n      >\r\n        <span style={{ marginTop: \"7px\" }}>{seconds}</span>\r\n      </div>\r\n\r\n      <p id=\"form\" className=\"mb-0 fw-bold\" style={{ fontSize: '23px'}}>현서 님이 그림을 그리고 있습니다!</p>\r\n    </MDBCardHeader>\r\n    <MDBCardBody className=\"canvas-container\">\r\n      <span class=\"badge rounded-pill badge-primary mb-2\" style={{ width: '75px', fontSize: '20px' }}>제시어</span>\r\n      <canvas\r\n        ref={canvasRef}\r\n        style={{\r\n          width: '100%',\r\n          height: '400px',\r\n          border: '1px solid #ccc',\r\n          /* Add any other desired styles for the canvas here */\r\n        }}\r\n      />\r\n      <div class=\"btn-group d-flex mt-2\" role=\"group\">\r\n        <MDBBtn onClick={enableFreeDrawing} type=\"button\" className='btn btn-info' style={{ fontSize: '20px' }}> 그리기</MDBBtn>\r\n        <MDBBtn onClick={clearCanvas} type=\"button\" className=\"btn btn-info\" style={{ fontSize: '20px' }}>전체 지우기</MDBBtn>\r\n      </div>\r\n      <div class=\"text-center mt-2\">\r\n        {colorPalette.map((color) => (\r\n          <button\r\n            key={color}\r\n            style={{ backgroundColor: color, width: '30px', height: '30px', margin: '5px' }}\r\n            onClick={() => handleColorChange(color)}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      <span class=\"badge rounded-pill badge-info\" style={{ width: '80px', fontSize: '20px' }}>선 굵기</span>\r\n      <input\r\n        type=\"range\"\r\n        min=\"1\"\r\n        max=\"10\"\r\n        value={brushWidth}\r\n        onChange={handleBrushWidthChange}\r\n        style={{ width: '100px', margin: '5px' }}\r\n      />\r\n      <span>{brushWidth}</span>\r\n\r\n    </MDBCardBody>\r\n  </MDBCard>\r\n</div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Drawboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}